<div class="breadcrumbs">
  <a routerLink="/calculate">Выбор системы</a>
  <span class="calculate-values-form-breadcrumbs__divider">/</span>
  <span>{{systemName}}</span>
</div>
<div class="calculate-values-form">
  <h1 class="calculate-values-form-title">
    {{systemName}}
    <mat-icon class="toggle-icon" (click)="openDialog()">help_outline</mat-icon>
  </h1>
  <div class="calculate-values-form-parameters">
    <div class="calculate-values-form-parameters__examples mat-elevation-z1">
      <span class="description-span">Примеры</span>
      <cdk-virtual-scroll-viewport appendOnly itemSize="5" class="list">
        <mat-selection-list [multiple]="false">
          <mat-list-option *cdkVirtualFor="let type of calculatedSystemTypes" [value]="type.id">{{type.value}}</mat-list-option>
        </mat-selection-list>
      </cdk-virtual-scroll-viewport>
    </div>
    <div class="calculate-values-form-parameters__system mat-elevation-z1" [formGroup]="systemParametersForm">
      <span class="description-span">Ось Х</span>
      <mat-form-field appearance="outline" class="calculate-values-form-parameters__system-axis">
        <mat-label>Параметр</mat-label>
        <mat-select>
          <mat-option *ngFor="let parameter of systemParameters" [innerHTML]="parameter.value" [value]="parameter.id"></mat-option>
        </mat-select>
      </mat-form-field>
      <div class="calculate-values-form-parameters__system-range">
        <mat-slider [matTooltipPosition]="'left'" [matTooltip]="'Разброс значений'" discrete [min]="10" [max]="20" class="range-slider">
          <input matSliderStartThumb>
          <input matSliderEndThumb>
        </mat-slider>
        <mat-form-field appearance="outline" class="step-field">
          <mat-label>Шаг</mat-label>
          <input matInput type="number" min="0.1" max="2" [formControlName]="'step'">
        </mat-form-field>
      </div>
      <mat-divider class="calculate-values-form-parameters__divider"></mat-divider>
      <span class="description-span">Параметры системы</span>
      <div class="calculate-values-form-parameters__system-variables">
        <mat-form-field appearance="outline">
          <mat-label>Количество каналов (n)</mat-label>
          <input matInput type="number" min="2" max="10" [formControlName]="parameters.SERVERS_NUM">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Время обслуживания (t)</mat-label>
          <input matInput type="number" min="0.1" max="4" [formControlName]="parameters.SERVE_TIME">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Интенсивность потока заявок (&lambda;) </mat-label>
          <input matInput type="number" min="0.1" max="4" [formControlName]="parameters.LAMBDA">
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Максимальная длина очереди (m)</mat-label>
          <input matInput type="number" min="0" max="10" [formControlName]="parameters.QUEUE_LENGTH">
        </mat-form-field>
      </div>
      <mat-divider class="calculate-values-form-parameters__divider last"></mat-divider>
      <mat-form-field appearance="outline" class="calculate-values-form-parameters__system-characteristic">
        <mat-label>График характеристики</mat-label>
        <mat-select [formControl]="systemCharacteristicParameterControl" multiple>
          <mat-select-trigger>
            {{systemCharacteristicParameterControl.value ? systemCharacteristicParameterControl.value[0] : ''}}
            <span *ngIf="systemCharacteristicParameterControl.value?.length > 1" class="example-additional-selection">
              (+{{systemCharacteristicParameterControl.value.length - 1}} {{systemCharacteristicParameterControl.value?.length === 2 ? 'other' : 'others'}})
            </span>
          </mat-select-trigger>
          <mat-option *ngFor="let characteristic of availableSystemCharacteristics" [id]="characteristic.id" [value]="characteristic.value">{{characteristic.value}}</mat-option>
        </mat-select>
      </mat-form-field>
      <div class="calculate-values-form-parameters__submit">
        <button color="primary" mat-raised-button>Рассчитать</button>
      </div>
    </div>
  </div>
</div>
