<div class="breadcrumbs">
    <a routerLink="/">{{ "port-modelling-fe.common.home" | translate }}</a>
    <span class="divider">/</span>
    <span>{{ "port-modelling-fe.systemExample.titles.systemExample" | translate }}</span>
</div>

<div class="system-example">
    <mat-stepper>
        <mat-step>
            <ng-template matStepLabel>{{ "port-modelling-fe.systemExample.titles.symbols" | translate }}</ng-template>
            <div class="system-example-symbols">
              <app-symbols-description></app-symbols-description>
            </div>
            <app-kendall-notation-component></app-kendall-notation-component>
        </mat-step>
        <mat-step>
            <ng-template matStepLabel>{{ "port-modelling-fe.systemExample.titles.model" | translate }}</ng-template>
            <ng-template matStepContent>
                <h2>{{ "port-modelling-fe.systemExample.modelDescription.header" | translate }}</h2>
                <p>{{ "port-modelling-fe.systemExample.modelDescription.intro" | translate }}</p>
                <p>{{ "port-modelling-fe.systemExample.modelDescription.structure" | translate }}</p>
                <h3>{{ "port-modelling-fe.systemExample.modelDescription.terminal.characteristicTitle" | translate }}</h3>
                <ol>
                    <li>{{ "port-modelling-fe.systemExample.modelDescription.terminal.openSystem" | translate }}</li>
                    <li>{{ "port-modelling-fe.systemExample.modelDescription.terminal.channels" | translate }}</li>
                    <li>{{ "port-modelling-fe.systemExample.modelDescription.terminal.arrivalDistribution" | translate }}</li>
                    <li>{{ "port-modelling-fe.systemExample.modelDescription.terminal.queueDiscipline" | translate }}</li>
                    <li>{{ "port-modelling-fe.systemExample.modelDescription.terminal.noConnection" | translate }}</li>
                </ol>
                <h3>{{ "port-modelling-fe.systemExample.modelDescription.arrivals.title" | translate }}</h3>
                <ul>
                    <li>{{ "port-modelling-fe.systemExample.modelDescription.arrivals.independent" | translate }}</li>
                    <li>{{ "port-modelling-fe.systemExample.modelDescription.arrivals.noRemember" | translate }}</li>
                    <li>{{ "port-modelling-fe.systemExample.modelDescription.arrivals.stationary" | translate }}</li>
                </ul>
            </ng-template>
        </mat-step>
        <mat-step>
            <ng-template matStepLabel>{{ "port-modelling-fe.systemExample.titles.characteristics" | translate }}</ng-template>
            <ng-template matStepContent>
                <div class="system-example-calculations">
                    <div class="system-example-calculations__table">
                        <h3>График грузозаходов в порт "Санкт Петербург"</h3>
                        <table mat-table [dataSource]="dataSource" class="mat-elevation-z3">
                            <ng-container matColumnDef="position">
                                <th mat-header-cell *matHeaderCellDef> No. </th>
                                <td mat-cell *matCellDef="let element"> {{ element.position }} </td>
                            </ng-container>
                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef> Название </th>
                                <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
                            </ng-container>
                            <ng-container matColumnDef="arrive">
                                <th mat-header-cell *matHeaderCellDef> Время захода </th>
                                <td mat-cell *matCellDef="let element"> {{ element.arrive }} </td>
                            </ng-container>
                            <ng-container matColumnDef="leave">
                                <th mat-header-cell *matHeaderCellDef> Время выхода </th>
                                <td mat-cell *matCellDef="let element"> {{ element.leave }} </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                        </table>
                    </div>
                    <div class="system-example-calculations__description">
                        <div [innerHTML]="'port-modelling-fe.systemExample.calculations.description' | translate "></div>
                        <ul>
                            <li [mathContent]="'$S = 2.16 \\quad суток$'"></li>
                            <li [mathContent]="'$\\mu= \\frac{1}{S} = 0,463$'"></li>
                            <li [mathContent]="'$\\lambda = 12$'"></li>
                            <li [mathContent]="'$\\rho = \\frac{\\lambda}{\\mu} = 25.92$'"></li>
                        </ul>
                        <h3>Рассмотрим случай многоканальной системы массового обслуживания с бесконечной очередью</h3>
                        <p>Поскольку  <span [mathContent]="'$\\rho > 1$'"></span>, система не может прийти в стационарное состояние, очередь заявок будет бесконечно расти</p>
                        <p>Выберем число каналов такое, чтобы <span [mathContent]="'$ a = \\frac{\\rho}{c} < 1$'"></span> </p>
                        <p>Пусть <span [mathContent]="'$c = 30$'"></span></p>
                        <p>Вычислим вероятность того, что все каналы свободны, для этого воспользуемся формулой</p>
                        <span [mathContent]="'\\[ P_0 = \\left[ \\sum_{n=0}^{c - 1}\\frac{\\rho^n}{n!} + \\frac{\\rho^c}{c!(1-a)} \\right]^{-1} \\]'"></span>
                    </div>
                </div>
            </ng-template>
        </mat-step>
    </mat-stepper>
</div>
